!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("trackSDK"),require("tslib"),require("utilsUMD")):"function"==typeof define&&define.amd?define("extensionUMD",["React","ReactDOM","commonUMD","dataUMD","httpSDK","trackSDK","tslib","utilsUMD"],t):"object"==typeof exports?exports.extensionUMD=t(require("React"),require("ReactDOM"),require("commonUMD"),require("dataUMD"),require("httpSDK"),require("trackSDK"),require("tslib"),require("utilsUMD")):e.extensionUMD=t(e.React,e.ReactDOM,e.commonUMD,e.dataUMD,e.httpSDK,e.trackSDK,e.tslib,e.utilsUMD)}(this,((e,t,n,r,o,a,i,l)=>(()=>{"use strict";var c,u={5462:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var r=n(1024),o=n(9457),a=n.n(o),i=n(3120),l=n(7659),c=n(7179),u=n(620),s=n(1458),f=n(1182);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const m=function(){var e,t,n=(e=(0,r.useState)("none"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=function(){var e=window.innerWidth;a(e<768?"mobile":e<1440?"tablet":"desktop")};return(0,r.useEffect)((function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),o};var v=n(3716),g=n(937),y=n(8116),b=n(3716);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(){var e=(0,f.useTheme)().theme,t=p((0,r.useState)(""),2),n=t[0],o=t[1];(0,r.useEffect)((function(){var e=new MutationObserver((function(e){var t="";e.forEach((function(e){var n=e.target;n.classList.contains("light")&&(b.log("hit light"),t="light"),n.classList.contains("dark")&&(b.log("hit dark"),t="dark")})),o(t)}));return e.observe(document.body,{attributes:!0,attributeFilter:["class"]}),function(){e.disconnect()}}),[]),(0,r.useEffect)((function(){return document.body.classList.contains("theme-root")?n?(b.log("[useRootBodyTheme] setBodyTheme = ",n),void o(n)):(b.log("[useRootBodyTheme] fallback commonWidgetTheme"),void o(e)):(b.log("[useRootBodyTheme] no theme-root class, setBodyTheme to commonWidgetTheme = ",e),void o(e))}),[n,e]);var a=p((0,r.useMemo)((function(){return["light"===n?g.R:g._,"light"===n?y.X:y.k]}),[n]),2),i=a[0],l=a[1];return{bodyTheme:n,themeColors:i,themeExtraColors:l}}var _=n(3716);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=[/^\/[a-zA-Z-]+\/price/i,/^\/[a-zA-Z-]+\/feed/i,/^\/[a-zA-Z-]+\/markets\/overview/i];const A=function(){var e,t,n,o,d=(0,f.useLanguage)().language,g=(0,f.useNavI18n)().getI18nTxt,y=(0,f.useCommonEnv)().envs.domain,b=w().bodyTheme,p=(0,f.useUserLoginStatus)(),h=p.value,C=p.loading,A=S((0,r.useState)(!1),2),x=A[0],k=A[1],I=S((0,r.useState)(!1),2),O=I[0],R=I[1],T=(0,r.useRef)(!1),j=(0,f.useCommonEnv)().envs.STATIC_HOST,M="mobile"===m(),D=(0,i.L)().isHybrid,U=(0,r.useCallback)((function(){var e;T.current||(T.current=!0,_.log("bannerInitiator called"),e=window.location.pathname,E.some((function(t){return t.test(e)}))?(_.log("call topBarAndTopCTA API to show banner"),(0,s.get)("/bapi/composite/v1/public/growth-activity/loyalty/onboarding/topBarAndTopCTA").then((function(e){var t=e.data;_.log("topBarAndTopCTA API call",t),null!=t&&t.showTopBar&&R(!0)}))):_.log("validatePageUrl = false"))}),[]);(0,r.useEffect)((function(){C||h||k(!0)}),[h,C]),e=function(){U()},t=x,n=(0,r.useRef)(!1),o=(0,r.useCallback)((function(){n.current||(v.log("UserActionTrigger"),n.current=!0,e())}),[]),(0,r.useEffect)((function(){var e,n,r;t&&(e=function(){window.removeEventListener("mousemove",e,!1),v.log("mousemoveListener triggered"),o()},n=function(){window.removeEventListener("touchstart",n,!1),v.log("touchstartListener triggered"),o()},r=function(){window.removeEventListener("scroll",r,!1),v.log("scrollListener triggered"),o()},window.addEventListener("mousemove",e,!1),window.addEventListener("touchstart",n,!1),window.addEventListener("scroll",r,!1))}),[t]);var L=(0,r.useCallback)((function(){a()("webClick",{elementId:"footer_banner_close",pageName:"extension",lang:d}),R(!1)}),[d]),B=(0,r.useCallback)((function(){a()("webClick",{elementId:"footer_banner_click",pageName:"extension",lang:d});var e="https://accounts.".concat(y,"/").concat(d,"/register?registerChannel=footer_banner");window.open(e,"_blank")}),[y,d]);if(D||!O||M)return null;var N="dark"===b?"dark_banner_bg.svg":"light_banner_bg.svg",q='url("'.concat(j,"/static/images/home/").concat(N,'")');return React.createElement("div",{className:"IncentiveBanner",style:{backgroundImage:q}},React.createElement("div",{className:"IncentiveBanner_content"},React.createElement(l.Z,{className:"IncentiveBanner_logo",src:"".concat(j,"/static/images/home/incentive_logo.svg")}),React.createElement("div",{className:"IncentiveBanner_text"},g("Register now and receive up to 100 USDT in rewards"))),React.createElement(c.Z,{onClick:B,sz:"small",className:"IncentiveBanner_register_btn"},g(M?"ba-Register":"Register Now")),React.createElement(u.Z,{onClick:L,size:24,className:"IncentiveBanner_close_btn"}))};var x=n(314),k=n(1996);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=n(3716);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(){var e,t,n=(0,f.useLanguage)().language,o=(0,i.L)().isHybrid,l=w().themeColors,c=(0,f.useComplianceActionCheck)(),s=c.value,d=c.loading,m=(e=(0,r.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=m[0],g=m[1];(0,r.useEffect)((function(){var e,t;if(!d&&null!=s&&s.success){var n=(null==s||null===(e=s.data)||void 0===e||null===(t=e.actionInfo)||void 0===t?void 0:t.bannerInfo)||null;O.log("ComplianceBanner, bannerInfo = ",n),g(n)}}),[s,d]);var y=(0,r.useMemo)((function(){if(!v)return"";var e=v.bannerText,t=v.bannerLinks,r=v.useI18nKey,o=v.bannerTextMultiLang,a=e;if(!r&&Array.isArray(o)){var i=o.find((function(e){return e.selectedLang===n}));i&&(a=i.text)}return Array.isArray(t)&&t.forEach((function(e){var t,r,o=null===(t=e.linkURL)||void 0===t||null===(r=t.replace("%suffixOrigin%",(0,k.getLevelDomain)(2)))||void 0===r?void 0:r.replace("%locale%",n),i='<a href="'.concat(o,'" class="CommonWidgetCompliance_content_link" style="color: ').concat(l.textBrand,'" target="_blank">').concat(e.linkText,"</a>"),c=new RegExp("".concat(e.key),"g");a=a.replace(c,i)})),a}),[v,n]);(0,r.useEffect)((function(){var e;v&&a()("ComponentShow",{elementID:"common_widget_extension_compliance_banner",pageName:"common_widget_extension",df_3:(null==v||null===(e=v.extraInfo)||void 0===e?void 0:e.errorCode)||"client_no_code"})}),[v]);var b=(0,r.useCallback)((function(){g(null)}),[]);return(!o||null!=v&&v.showInWebview)&&y?React.createElement("div",{className:"CommonWidgetCompliance_content",style:{color:l.textPrimary}},React.createElement("div",{dangerouslySetInnerHTML:{__html:y}}),(null==v?void 0:v.canBeClosed)&&React.createElement(u.Z,{onClick:b,size:24,className:"CommonWidgetCompliance_close_btn",style:{color:l.bg4}})):null};function j(){var e,t,n,o,a,i,l,c,u,s,d=("CommonWidgetCompliance",e=w().themeColors,t=(0,f.useComplianceActionCheck)().value,n=(0,r.useRef)(null),u=(0,r.useState)(null),s=2,o=function(e){if(Array.isArray(e))return e}(u)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(u,s)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(u,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1],l="__APP_HEADER",c=(0,r.useMemo)((function(){var e=document.getElementById(l);return!!e&&"sticky"===window.getComputedStyle(e).position}),[]),(0,r.useEffect)((function(){var e,r,o=null==t||null===(e=t.data)||void 0===e||null===(r=e.actionInfo)||void 0===r?void 0:r.bannerInfo;if(o){var a=null==o?void 0:o.shouldSticky;if(n.current||(n.current=document.createElement("div"),n.current.className="CommonWidgetCompliance",i(n.current)),a)if(c){var u=document.getElementById(l);null==u||u.prepend(n.current)}else n.current.classList.add("CommonWidgetCompliance_sticky"),document.body.prepend(n.current);else document.body.prepend(n.current);return function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.parentNode;t&&n.current&&t.removeChild(n.current)}}}),[t,c]),(0,r.useEffect)((function(){a&&(a.style.backgroundColor=e.bg3)}),[e,a]),a);return React.createElement(React.Fragment,null,d&&(0,x.createPortal)(React.createElement(T,null),d))}var M=n(3408),D=n(3716);const U=function(){var e=w().bodyTheme;return(0,r.useEffect)((function(){D.log("common_widget_extension_mount"),a()("ComponentShow",{elementID:"common_widget_extension_mount",pageName:"common_widget_extension",df_3:!0})}),[]),React.createElement(M.ErrorBundary,{name:"common-widget-extension"},React.createElement(M.ThemeProvider,{theme:e},React.createElement("section",{className:"extension-container hidden-in-bnc-app common-widget-css_wrap theme-root bg1 ".concat(e,"-color")},React.createElement(A,null),React.createElement(j,null))))}},1024:t=>{t.exports=e},314:e=>{e.exports=t},3408:e=>{e.exports=n},1182:e=>{e.exports=r},1458:e=>{e.exports=o},9457:e=>{e.exports=a},6748:e=>{e.exports=i},1996:e=>{e.exports=l}},s={};function f(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return u[e].call(n.exports,n,n.exports,f),n.loaded=!0,n.exports}f.m=u,c=[],f.O=(e,t,n,r)=>{if(!t){var o=1/0;for(u=0;u<c.length;u++){for(var[t,n,r]=c[u],a=!0,i=0;i<t.length;i++)(!1&r||o>=r)&&Object.keys(f.O).every((e=>f.O[e](t[i])))?t.splice(i--,1):(a=!1,r<o&&(o=r));if(a){c.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=c.length;u>0&&c[u-1][2]>r;u--)c[u]=c[u-1];c[u]=[t,n,r]},f.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return f.d(t,{a:t}),t},f.d=(e,t)=>{for(var n in t)f.o(t,n)&&!f.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),f.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),f.j=898,(()=>{var e={898:0,532:0};f.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,i,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in i)f.o(i,r)&&(f.m[r]=i[r]);if(l)var u=l(f)}for(t&&t(n);c<a.length;c++)o=a[c],f.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return f.O(u)},n=this.webpackChunkUMD=this.webpackChunkUMD||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var d=f.O(void 0,[532,736],(()=>f(5462)));return f.O(d)})()));